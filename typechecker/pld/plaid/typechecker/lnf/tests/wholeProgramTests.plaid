package plaid.typechecker.lnf.tests;

import plaid.ast.*;
import plaid.ast.visitor.*;

val () -> void wholeProgramTests = fn() => {
	val javaAST = plaid.compilerjava.ParserCore.parse(java.io.FileInputStream.new(java.io.File.new("testInputs/fibonacci/package.plaid")));
	val unique ASTTranslator translator = new ASTTranslator;
	val unique ASTNode plaidAST = translator.translateAST(javaAST);
	
	java.lang.System.out.println("\n\nWHOLE PROGRAM: fibonacci\n\n");
	plaidAST.accept(new PrintVisitor);
	java.lang.System.out.println("\n==============================\n");
	val unique ASTNode newAST = plaidAST.accept(new NewLetNormalFormVisitor);
	newAST.accept(new PrintVisitor);
};