package plaid.typechecker.lnf.tests;

import plaid.ast.*;

val () -> void letBindingTests = fn() => {
	val unique Expression letBare = makeLet(makeToken(),makeID(makeToken(),"x"), makeID(makeToken(),"y"), makeID(makeToken(),"z"), false);
	rewrite(letBare);
	
	val unique Expression letRead1 = makeLet(makeToken(),makeID(makeToken(),"x"), makeDereference(makeToken(),makeID(makeToken(),"y"), makeID(makeToken(),"f")), makeID(makeToken(),"z"),false);
	rewrite(letRead1);
	
	val unique Expression letRead2 = makeLet(makeToken(),makeID(makeToken(),"x"), makeDereference(makeToken(),makeDereference(makeToken(),makeID(makeToken(),"a"), makeID(makeToken(),"b")), makeID(makeToken(),"c")), makeID(makeToken(),"z"),false);
	rewrite(letRead2);
};