\section{Types}

\begin{quote}

\ntermdef{Type}

\defspace \keyw{void}

\defspace \opt{\keyw{immutable}} \nterm{LambdaStructure}

\defspace \opt{\nterm{Permission}} \nterm{NominalStructure}

\defspace (\nterm{Type})

\ntermdef{Permission}

\defspace \keyw{unique}

\defspace \nterm{SymmetricPermission}

\defspace \nterm{LocalPermission}

\ntermdef{SymmetricPermission}

\defspace \keyw{shared} <\nterm{SimpleExpr1}>

\defspace \keyw{immutable}

\ntermdef{LocalPermission} 

\defspace \keyw{local} \nterm{SymmetricPermission}

\ntermdef{LambdaStructure} 

\defspace \opt{\nterm{MetaParams}} (\nterm{ArgSpecs}) \opt{[ \nterm{Args}]} -> \nterm{Type}

\ntermdef{NominalStructure} 

\defspace \keyw{top}

\defspace \nterm{QualifiedIdentifier} \opt{MetaArgs}

\ntermdef{ArgSpecs}

{\defspace \nterm{ArgSpec} \seq{ * \nterm{ArgSpec} }}



\end{quote}

\keyw{void} is the most general type in Plaid.  It represents the weakest
and unwritable permission \keyw{none} with structure \keyw{top}
which gives no information about the object's abilities.  All other
types include an optional \nterm{permission} and a structure.

\nterm{LambdaStructures} represent function types and are
standard expect for their environment.  These are optional 
arguments in brackets [] that specify types for objects in scope
in the function along with their state transitions specified
as an \nterm{ArgSpec}. Formally, a function that accepts 
multiple arguments actually accepts an
argument tuple, which is written with a \code{*}-separated list.

\nterm{NominalStructures} represent the types of declared states
and the special \keyw{top} structure which is a superstructure
of all structures.

If the permission for a structure is not given, then a default is applied.
\nterm{LambdaStructures} can only be declared \keyw{immutable}
and also default to immutable.  \keyw{top} defaults to \keyw{none}
and \nterm{LambdaStructures} default to \keyw{immutable} if it
represents an \keyw{immutable} state and \keyw{unique} otherwise. 

The \keyw{unique} permission indicates that there are no
usable aliases to the same object.  There may be other
references to the object with the \keyw{none} permission
which cannot be expressed in the source language and
does not allow the object to be used in any way.

\nterm{SymmetricPermissions} can be freely duplicated
allowing new aliases to be created with the same permission.
\keyw{immutable} references cannot update the object
but can assume that it never changes. \keyw{shared} references
can make changes, but must assume that the object has been
changed through another reference.

Their \keyw{local} counterparts give the same abilities
and guarantees, but are restricted to local variables.  
\keyw{local} references cannot be assigned into fields.
This allows the permission to be tracked and returned to their
original location when the reference leaves scope.  This allows
stronger permissions to be temporarily lost and regained.

